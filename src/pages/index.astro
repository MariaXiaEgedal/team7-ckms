---
import MainLayout from "../layouts/MainLayout.astro";
import Button from "../components/Button.astro";
import Heading from "../components/Heading.astro";
import Text from "../components/Text.astro";
import CardWorkshop from "../components/CardWorkshop.astro";
import TildigSection from "../components/TildigSection.astro";
import Formular from "../components/Formular.astro";
import UdstillingCard from "../components/UdstillingCard.astro";
import NewsCard from "../components/NewsCard.astro";
import NewsletterSignup from "../components/NewsletterSignup.astro";
import InstagramCarousel from "../components/InstagramCarousel.astro";
import AllWorkshopCard from "../components/AllWorkshopCard.astro";
---

<MainLayout title="CKMS">
  <div class="flex flex-col gap-m md:gap-xl mb-m md:mb-xl">
    <!-- ***************************** Start Hero ***************************** -->
    <section class="relative text-text-dark">
      <video
        class="w-full min-h-[550px] md:min-h-[600px] lg:max-h-[750px] h-auto object-cover"
        src="/img/herovideo.mov"
        autoplay
        muted
        loop
        playsinline></video>
      <div
        class="absolute inset-0 flex flex-col justify-center text-text-dark mx-2xs md:mx-l"
      >
        <Heading
          htmlheading="h1"
          size="medium"
          font="font-gestura font-bold"
          stylingclasses="opacity-0 intersect:opacity-100 intersect:animate-fade-right intersect-once text-text-dark text-[20px] md:text-[40px] lg:text-[70px] leading-[1.05]"
        >
          NATIONALT CENTER
        </Heading>

        <Heading
          htmlheading="h3"
          size="small"
          font="font-gestura font-regular"
          stylingclasses="opacity-0 intersect:opacity-100 intersect:animate-fade-right intersect:animate-delay-200 intersect-once text-text-dark mb-xs md:mb-m text-[18px] md:text-[20px] lg:text-[40px]"
        >
          FOR KUNST OG MENTAL SUNDHED
        </Heading>

        <Text stylingclasses=" mb-xs md:mb-m">
          Vi er for dig, der søger trivsel, håb og fællesskab gennem kunsten. <br
          />
          For og med mennesker i psykiatrien.
        </Text>

        <div class="flex flex-wrap gap-2xs">
          <a href="/workshops">
            <Button variant="hero1">Deltag i workshops</Button>
          </a>
          <a href="/støt">
            <Button variant="hero2">Støt formålet</Button>
          </a>
        </div>
      </div>
    </section>

    <!-- ***************************** End Hero ***************************** -->

    <!-- ***************************** Start Vision og mission ***************************** -->
    <section class="mx-2xs md:mx-l">
      <Heading
        htmlheading="h2"
        size="medium"
        stylingclasses="mb-xs md:mb-m opacity-0 intersect:opacity-100 intersect:animate-fade-right intersect-once"
        >Vision og mission
      </Heading>

      <div class="grid grid-cols-4 md:grid-cols-12 gap-x-2xs md:items-end">
        <!-- Text on mobile (full width), on desktop col 8-12 -->
        <div
          class="col-span-4 md:col-span-5 md:col-start-8 text-text-dark md:order-2"
        >
          <Text stylingclasses="mb-2xs md:mb-xs">
            Vi arbejder for en psykiatri med mere fokus på det hele menneske -
            med ligeværd, kreativitet, venlighed og tryghed.
          </Text>

          <Text stylingclasses="mb-2xs md:mb-xs">
            Gennem deltagerfokuserede kunstworkshops skaber vi fællesskab,
            trivsel og håb for mennesker med psykiske lidelser.
          </Text>

          <Text stylingclasses="mb-xs">
            Vi supplerer psykiatrien med forskningsbaserede kunsttilbud,
            udviklet i samarbejde mellem kunstnere, forfattere, psykiatribrugere
            og sundhedsfaglige forskere. Vi hjælper hinanden med at hjælpe
            andre.
          </Text>

          <div class="hidden md:block">
            <a href="/omos">
              <Button>Læs mere om os</Button>
            </a>
          </div>
        </div>

        <!-- Images -->
        <img
          class="col-start-1 col-end-4 md:col-start-1 md:col-end-5 w-full h-[150px] md:h-auto object-cover md:order-1 mb-2xs md:mb-0"
          src="/img/vision-mission1.webp"
          alt="Kirkeinteriør med mennesker"
        />
        <img
          class="col-start-2 col-end-5 md:col-start-5 md:col-end-8 w-full h-[150px] md:h-auto object-cover md:order-1 mb-xs md:mb-0"
          src="/img/vision-mission2.webp"
          alt="Mennesker i samtale under workshop"
        />

        <!-- Button - only on mobile -->
        <div class="col-span-4 md:hidden flex justify-center">
          <a href="/omos">
            <Button>Læs mere om os</Button>
          </a>
        </div>
      </div>
    </section>
    <!-- ***************************** End Vision og mission ***************************** -->

    <!-- ***************************** Start Til dig, som er ***************************** -->
    <section class="mx-2xs md:mx-l">
      <Heading
        htmlheading="h2"
        size="medium"
        stylingclasses="mb-xs md:mb-m opacity-0 intersect:opacity-100 intersect:animate-fade-right intersect-once"
        >Til dig, som er...
      </Heading>

      <TildigSection class="mb-xs md:mb-m" basePath="/tildig" />

      <div class="flex justify-center">
        <a href="/tildig">
          <Button>Læs mere</Button>
        </a>
      </div>
    </section>
    <!-- ***************************** End Til dig, som er ***************************** -->

    <!-- ***************************** Start Workshops ***************************** -->
    <section class="mx-2xs md:mx-l text-text-dark">
      <Heading
        htmlheading="h2"
        size="medium"
        stylingclasses="mb-xs md:mb-m opacity-0 intersect:opacity-100 intersect:animate-fade-right intersect-once "
        >Workshops
      </Heading>

      <Heading
        htmlheading="h4"
        size="xsmall"
        stylingclasses=" mb-2xs md:mb-xs max-w-[900px]"
        >Hos CKMS tilbyder vi et frirum for brugere af psykiatrien, hvor vi
        mødes om at være kreative.
      </Heading>

      <Text typest="brødtekst" stylingclasses="mb-2xs md:mb-xs">
        Vi tilbyder følgende workshops:
      </Text>

      <AllWorkshopCard />
    </section>
    <!-- ***************************** End Workshops ***************************** -->

    <!-- ***************************** Start Støt vores formål og arbejde ***************************** -->
    <section class="mx-2xs md:mx-l">
      <div class="grid grid-cols-1 lg:grid-cols-2 md:gap-2xs">
        <div class="text-text-dark">
          <Heading
            htmlheading="h2"
            size="medium"
            stylingclasses="mb-xs md:mb-m opacity-0 intersect:opacity-100 intersect:animate-fade-right intersect-once"
            >Støt vores formål og arbejde
          </Heading>

          <Text stylingclasses="mb-2xs md:mb-2xs">
            Meld dig ind i Foreningen Kunst og Mental Sundhed og vær med til at
            støtte centrets formål og arbejdet med at bidrage til større
            livskvalitet for mennesker med erfaring fra psykiatrien.
          </Text>

          <Text stylingclasses="mb-xs md:mb-m">
            Du bliver del af et fællesskab som ønsker at reducere fordomme og
            stigmatisering af mental sygdom - og frem.
          </Text>
        </div>

        <div class="flex justify-center">
          <Formular />
        </div>
      </div>
    </section>
    <!-- ***************************** End Støt vores formål og arbejde ***************************** -->

    <!-- ***************************** Start Udstillinger i CKMS ***************************** -->
    <section class="mx-2xs md:mx-l">
      <Heading
        htmlheading="h2"
        size="medium"
        stylingclasses="mb-xs md:mb-m opacity-0 intersect:opacity-100 intersect:animate-fade-right intersect-once"
        >Udstillinger i CKMS
      </Heading>

      <div class="overflow-x-auto overflow-y-hidden scroll-smooth">
        <div
          class="relative flex gap-2xs overflow-x-auto snap-x snap-mandatory scroll-smooth items-stretch px-2xs pb-l md:grid md:gap-0 md:overflow-visible md:place-items-start"
          aria-label="Udstillinger"
        >
          <UdstillingCard
            class="udstilling-card col-start-1 row-start-1 shrink-0 snap-start w-[85%] sm:w-[70%] md:w-[70%] lg:w-[55%] max-w-[900px] min-w-[280px] min-h-[360px] translate-x-0 md:hover:translate-x-2 transition-transform duration-300 ease-out cursor-pointer z-40"
            data-card="1"
            headingh3="are you mad yet?"
            headingh4="are you mad yet? kaster lys på de økonomiske reformer, som rammer de syge i vores samfund."
            imgSrc="/img/udstilling1.webp"
            imgAlt="Are you mad yet illustration med Cheshire cat"
            bgColor="bg-udstilling-1-card"
            textColor="text-text-dark"
            number="1"
          />

          <UdstillingCard
            class="udstilling-card col-start-1 row-start-1 shrink-0 snap-start w-[85%] sm:w-[70%] md:w-[70%] lg:w-[55%] max-w-[900px] min-w-[280px] min-h-[360px] translate-x-0 md:translate-x-[7.5rem] md:hover:translate-x-[9.5rem] transition-transform duration-300 ease-out cursor-pointer z-30 [&.expanded]:md:!translate-x-[40rem] [.expanded-2~&]:md:-translate-x-[7.5rem]"
            data-card="2"
            headingh3="Kognitive dæmoner"
            headingh4="Små væsener bevæger sig gennem kognitionens lag og forstyrrer hverdagens strukturer som 'kognitive dæmoner.'"
            imgSrc="/img/udstilling2.webp"
            imgAlt="Kunstværk med abstrakte former"
            bgColor="bg-udstilling-2-card"
            textColor="text-text-light"
            number="2"
          />

          <UdstillingCard
            class="udstilling-card col-start-1 row-start-1 shrink-0 snap-start w-[85%] sm:w-[70%] md:w-[70%] lg:w-[55%] max-w-[900px] min-w-[280px] min-h-[360px] translate-x-0 md:translate-x-[15.25rem] md:hover:translate-x-[18.25rem] transition-transform duration-300 ease-out cursor-pointer z-20 [&.expanded]:md:!translate-x-[46.5rem] [.expanded-2~&]:md:-translate-x-[7.5rem] [.expanded-3~&]:md:-translate-x-[14.75rem]"
            data-card="3"
            headingh3="M / Other (2021)"
            headingh4="Samtidskunstnere undersøger moderskab gennem en interaktiv kunstinstallation."
            imgSrc="/img/udstilling3.webp"
            imgAlt="Interaktiv kunstinstallation med grønne hænder og molekyler"
            bgColor="bg-udstilling-3-card"
            textColor="text-text-dark"
            number="3"
          />

          <UdstillingCard
            class="udstilling-card col-start-1 row-start-1 shrink-0 snap-start w-[85%] sm:w-[70%] md:w-[70%] lg:w-[55%] max-w-[900px] min-w-[280px] min-h-[360px] translate-x-0 md:translate-x-[24.75rem] md:hover:translate-x-[26.75rem] transition-transform duration-300 ease-out cursor-pointer z-10 [&.expanded]:md:!translate-x-[53.5rem] [.expanded-2~&]:md:-translate-x-[8rem] [.expanded-3~&]:md:-translate-x-[16rem] [.expanded-4~&]:md:-translate-x-[24.75rem]"
            data-card="4"
            headingh3="Ømme Knapper"
            headingh4="Et kunstnerisk rum lavet af og for psykiatribrugere, deres pårørende, psykiatriske behandlere – og kunstinteresserede."
            imgSrc="/img/udstilling4.webp"
            imgClass="h-[301px] object-top"
            imgAlt="Illustration af demonstranter med skilt 'Ømme Knapper'"
            bgColor="bg-udstilling-4-card"
            textColor="text-text-light"
            number="4"
          />
        </div>
      </div>
      <div class="flex justify-center">
        <a href="/detsker#udstillinger">
          <Button>Læs mere</Button>
        </a>
      </div>
    </section>
    <!-- ***************************** End Udstillinger i CKMS ***************************** -->

    <!-- ***************************** Start Video ***************************** -->
    <section class="">
      <div class="mb-3xs">
        <iframe
          width="100%"
          height="500"
          src="https://www.youtube.com/embed/tCoDAy6WYq4?autoplay=1&mute=1"
          title="Every Year When the Lilacs Bloom"
          frameborder="0"
          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
          allowfullscreen
        >
        </iframe>
      </div>

      <div class="mx-2xs md:mx-l">
        <Text teksttype="billedtekst"
          ><span class="font-bold">Every Year When the Lilacs Bloom</span> - Videoværk
          af Alice Topsøe-Jensen, 2020 - Oplev værket med lyd, og læs kunstnerens
          præsentation</Text
        >
      </div>
    </section>
    <!-- ***************************** End Video ***************************** -->

    <!-- ***************************** Start Nyt fra CKMS ***************************** -->
    <section class="mx-2xs md:mx-l">
      <Heading
        htmlheading="h2"
        size="medium"
        stylingclasses="mb-xs md:mb-m opacity-0 intersect:opacity-100 intersect:animate-fade-right intersect-once"
        >Nyt fra CKMS
      </Heading>

      <!-- Mobile/tablet: carousel under lg -->
      <div class="lg:hidden mb-xs">
        <div class="carousel w-full gap-2xs">
          <div class="carousel-item w-2/3">
            <NewsCard
              date="5. DECEMBER"
              title="Symposium for kunstnere og co-terapeuter"
              description="Fredag var alle kreative og co-terapeuter inviteret til symposium hos CKMS, der for første gang havde mulighed for at samle alle på denne måde i den stemmingsfulde Kirkesal."
              imageSrc="/img/news1.webp"
              imageAlt="Gruppe mennesker samlet i kirkesal"
              linkText="Læs mere"
            />
          </div>
          <div class="carousel-item w-2/3">
            <NewsCard
              date="2. DECEMBER"
              title="Ny skrivegruppe på vej i Vordingborg"
              description="Sneen falder tæt over Vordingborg, da CKMS er på besøg hos Region Sjælland for at lave Åben Skrivecafé for brugere af psykiatrien. Skrivecaféen er en smagssprøve på, hvordan en"
              imageSrc="/img/news2.webp"
              imageAlt="To kvinder smiler til kameraet"
              linkText="Læs mere"
            />
          </div>
          <div class="carousel-item w-2/3">
            <NewsCard
              date="28. NOVEMBER"
              title="Super god eftermiddag da Åben Scene og Åben Skrivecafé 'mødtes'"
              description="Tak for alle, der var mødt op til Åben Scene torsdag. Det var en super god eftermiddag. Igen havde vi besøg af tre musikere fra Rytmekons. Denne gang havde Jonas Engell,"
              imageSrc="/img/news3.webp"
              imageAlt="Folk sidder sammen til workshop"
              linkText="Læs mere"
            />
          </div>
        </div>
      </div>

      <!-- Desktop: grid on lg and up -->
      <div class="hidden lg:grid grid-cols-3 gap-2xs mb-m">
        <NewsCard
          date="5. DECEMBER"
          title="Symposium for kunstnere og co-terapeuter"
          description="Fredag var alle kreative og co-terapeuter inviteret til symposium hos CKMS, der for første gang havde mulighed for at samle alle på denne måde i den stemmingsfulde Kirkesal."
          imageSrc="/img/news1.webp"
          imageAlt="Gruppe mennesker samlet i kirkesal"
          linkText="Læs mere"
        />

        <NewsCard
          date="2. DECEMBER"
          title="Ny skrivegruppe på vej i Vordingborg"
          description="Sneen falder tæt over Vordingborg, da CKMS er på besøg hos Region Sjælland for at lave Åben Skrivecafé for brugere af psykiatrien. Skrivecaféen er en smagssprøve på, hvordan en"
          imageSrc="/img/news2.webp"
          imageAlt="To kvinder smiler til kameraet"
          linkText="Læs mere"
        />

        <NewsCard
          date="28. NOVEMBER"
          title="Super god eftermiddag da Åben Scene og Åben Skrivecafé 'mødtes'"
          description="Tak for alle, der var mødt op til Åben Scene torsdag. Det var en super god eftermiddag. Igen havde vi besøg af tre musikere fra Rytmekons. Denne gang havde Jonas Engell,"
          imageSrc="/img/news3.webp"
          imageAlt="Folk sidder sammen til workshop"
          linkText="Læs mere"
        />
      </div>

      <div class="flex justify-center">
        <a href="/detsker#nyt-fra-ckms">
          <Button>Se flere nyheder</Button>
        </a>
      </div>
    </section>
    <!-- ***************************** End Nyt fra CKMS ***************************** -->

    <!-- ***************************** Start Nyhedsbrev ***************************** -->
    <section
      class="bg-background-v2 py-xs md:py-m px-2xs md:px-l lg:px-xl text-text-dark"
    >
      <div class="grid grid-cols-12 gap-2xs">
        <div class="col-start-2 col-end-7">
          <img
            src="/img/email-1.svg"
            alt="Tilmeld dig vores nyhedsbrev"
            class="w-[350px] md:w-[600px]"
          />
        </div>
      </div>

      <!-- Email input with arrow button -->
      <div class="my-xs md:my-m">
        <NewsletterSignup />
      </div>

      <!-- Curved text bottom image - columns 6-11 -->
      <div class="grid grid-cols-12 gap-2xs">
        <div class="col-start-7 col-end-12">
          <img
            src="/img/email-2.svg"
            alt="Hold dig opdateret"
            class="w-[300px] md:w-[500px]"
          />
        </div>
      </div>
    </section>
    <!-- ***************************** End Nyhedsbrev ***************************** -->

    <!-- ***************************** Start Følg med på Instagram ***************************** -->
    <section class="smx-2xs md:mx-l">
      <Heading
        htmlheading="h2"
        size="medium"
        stylingclasses="mb-xs md:mb-m opacity-0 intersect:opacity-100 intersect:animate-fade-right intersect-once"
        >Følg med på Instagram
      </Heading>

      <InstagramCarousel />
    </section>
    <!-- ***************************** End Følg med på Instagram ***************************** -->
  </div>
  <!-- ***************************** JS til udstillingscards ***************************** -->
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const cards = document.querySelectorAll(".udstilling-card");
      const container = cards[0]?.parentElement;

      cards.forEach((card) => {
        card.addEventListener("click", () => {
          const cardNum = card.getAttribute("data-card");
          const isExpanded = card.classList.contains("expanded");

          // Remove all expanded states
          cards.forEach((c) => c.classList.remove("expanded"));
          container?.classList.remove("expanded-2", "expanded-3", "expanded-4");

          // Toggle expansion
          if (!isExpanded && cardNum !== "1") {
            card.classList.add("expanded");
            container?.classList.add(`expanded-${cardNum}`);
          }
        });
      });
    });
  </script>
</MainLayout>
